{% load static%}

<!DOCTYPE html>
<html lang="en" data-bs-theme="light" data-menu-color="brand" data-topbar-color="light">


<head>
    <meta charset="utf-8" />
    <title>EmarkBook | Admin Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
    <meta content="Myra Studio" name="author" />

    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'assets/images/favicon.ico'%}">

    <!-- App css -->
    <link href="{%static 'assets/css/style.min.css'%}" rel="stylesheet" type="text/css">
    <link href="{% static 'assets/css/icons.min.css'%}" rel="stylesheet" type="text/css">
    <script src="{% static 'assets/js/config.js'%}"></script>
</head>

<body>

    <!-- Begin page -->
    <div class="layout-wrapper">

        <!-- ========== Left Sidebar ========== -->
        <div class="main-menu">
            <!-- Brand Logo -->
            <div class="logo-box">
                <!-- Brand Logo Light -->
                <a href="/admin-home/" class="logo-light">
                    <i class="mdi mdi-36px mdi-book-education text-white logo-sm"></i>
                    <h1 class="logo-lg">Admin </h1>
                </a>

                <!-- Brand Logo Dark -->
                <a href="/admin-home/" class="logo-dark">
                    <h1 class="logo-lg">Admin</h1>
                </a>
            </div>

            <!--- Menu -->
            <div data-simplebar>
                <ul class="app-menu">



                    <li class="menu-item">
                        <a href="/admin-home/" class="menu-link waves-effect waves-light">
                            <span class="menu-icon"><i class="bx bx-home-smile"></i></span>
                            <span class="menu-text"> Dashboards </span>
                        </a>
                    </li>



                    <li class="menu-item">
                        <a href="/teacher-details/" class="menu-link waves-effect waves-light">
                            <span class="menu-icon"><i class="mdi mdi-16px m
                                mdi-account-group-outline text-white logo-sm"></i></span>
                            <span class="menu-text"> Teacher Details </span>
                        </a>
                    </li>

                    <li class="menu-item">
                        <a href="/time-table/" class="menu-link waves-effect waves-light">
                            <span class="menu-icon"><i class="mdi mdi-16px m
                                mdi-calendar-clock text-white logo-sm"></i></span>
                            <span class="menu-text"> Time Table </span>
                        </a>
                    </li>



                </ul>
            </div>
        </div>



        <!-- ============================================================== -->
        <!-- Start Page Content here -->
        <!-- ============================================================== -->

        <div class="page-content">

            <!-- ========== Topbar Start ========== -->
            <div class="navbar-custom">
                <div class="topbar">
                    <div class="topbar-menu d-flex align-items-center gap-lg-2 gap-1">
                        <button class="button-toggle-menu">
                            <i class="mdi mdi-menu"></i>
                        </button>
                    </div>

                    <ul class="topbar-menu d-flex align-items-center gap-4">

                        <li class="d-none d-md-inline-block">
                            <a class="nav-link" href="#" data-bs-toggle="fullscreen">
                                <i class="mdi mdi-fullscreen font-size-24"></i>
                            </a>
                        </li>


                        <li class="nav-link" id="theme-mode">
                            <i class="bx bx-moon font-size-24"></i>
                        </li>

                    </ul>
                </div>
            </div>
            <!-- ========== Topbar End ========== -->

            <div class="px-3">

                <!-- Start Content-->
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="py-3 py-lg-4">
                        <div class="row">
                            <div class="col-lg-6">
                                <h4 class="page-title mb-0">Dashboard</h4>
                            </div>
                            <div class="col-lg-6">
                                <div class="d-none d-lg-block">
                                    <ol class="breadcrumb m-0 float-end">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Admin</a></li>
                                        <li class="breadcrumb-item active">Dashboard</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end page title -->

                    <div class="container">
                        <div class="row d-flex justify-content-center align-items-center">
                            <!-- Teacher Subject Allotment -->
                            <div class="col-3 m-1 bg-info d-flex justify-content-center align-items-center flex-column p-3 rounded-4 shadow">
                                <table class="text-dark">
                                    <h4>
                                        Subjects Allotment
                                    </h4>
                                    <thead>
                                        <tr>
                                            <th class="pe-2">Teacher</th>
                                            <th class="ps-2">Subject</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for teacher in teacher_data %}
                                        <tr>
                                            <td class="pe-2">
                                                {{teacher.fullname}}
                                            </td>
                                            <td class="ps-2">
                                                {{teacher.subject}}
                                            </td>
                                        </tr>
                                        {%endfor%}
                                    </tbody>
                                </table>

                            </div>
                            <!-- Upcoming Lectures -->
                            <div class="col-7 m-1 bg-secondary d-flex justify-content-center align-items-center flex-column p-4 text-dark rounded-4 shadow">
                                <table>
                                    <h4>
                                       Today's Lecture Schedule
                                    </h4>
                                    <thead>
                                        <tr>
                                            <th class="px-2">Time :- </th>
                                            {% for time in lect_time %}
                                            <th class="px-2">{{time}}</th>
                                            {%endfor%}
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th class="px-2">Subj :- </th>
                                            {% for lect in upcoming_lect %}
                                            <td class="px-2">{{lect}}</td>
                                            {%endfor%}
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- Teacher Active Status -->
                            <div class="col-3 m-1 bg-warning d-flex justify-content-center align-items-center flex-column p-3 rounded-4 shadow">
                                <table class="text-dark">
                                    <h4>
                                        Active Status
                                    </h4>
                                    <thead>
                                        <tr>
                                            <th class="pe-2">Teacher</th>
                                            <th class="ps-2">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for teacher in teacher_data %}
                                        <tr>
                                            <td class="pe-2">
                                                {{teacher.fullname}}
                                            </td>
                                            <td class="ps-2">
                                                {% if teacher.status == 'active'%}
                                                <div class=" border border-light bg-success rounded-5" style="height: 10px; width: 10px; display:inline-block"></div>
                                                {% else%}
                                                <div class=" border border-light bg-danger rounded-5" style="height: 10px; width: 10px; display:inline-block"></div>
                                                {%endif%}
                                                {{teacher.status}}

                                            </td>
                                        </tr>
                                        {%endfor%}
                                    </tbody>
                                </table>

                            </div>
                            <!-- Total | Attended Leactures -->
                            <div class="col-7 m-1 text-dark bg-pink d-flex justify-content-center align-items-center flex-column p-3 rounded-4 shadow">
                                <table>
                                    <h4>
                                        Total | Attended Leactures
                                    </h4>
                                    <thead>
                                        <tr>
                                            <th class="px-2">Name</th>
                                            <th class="px-2">Roll No</th>
                                            {%for lect , count in total_lect.items%}
                                            <th class="px-2">{{lect}} ({{count}})</th>
                                            {%endfor%}
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {%for stu in attended_lect%}
                                        <tr>
                                            {% for attend in stu%}
                                            <td class="px-2">{{attend}}</td>
                                            {%endfor%}
                                        </tr>
                                        {%endfor%}
                                    </tbody>
                                </table>

                            </div>
                            

                        </div>
                    </div>



                </div> <!-- container -->
            </div> <!-- content -->



        </div>
    </div>

    <!-- App js -->
    <script src="{%static 'assets/js/vendor.min.js'%}"></script>
    <script src="{%static 'assets/js/app.js'%}"></script>

    <!-- Dashboard init-->
    <script src="{% static 'assets/js/pages/dashboard.js'%}"></script>

</body>

</html>